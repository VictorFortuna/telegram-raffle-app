<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Raffle Stars</title>
    
    <!-- Telegram Mini App script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- Socket.IO –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="/css/style.css">
    
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è Telegram Mini App -->
    <meta name="telegram-web-app" content="height=600">
    <meta name="theme-color" content="#1a1a2e">
</head>
<body>
    <div id="app" class="app">
        <!-- –ó–∞–≥—Ä—É–∑–∫–∞ -->
        <div id="loading" class="loading-screen">
            <div class="loading-spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
        <div id="main-screen" class="main-screen hidden">
            <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <div class="top-stats">
                <div class="stat-item">
                    <span class="stat-label">–í–∞—à–∏ –∑–≤–µ–∑–¥—ã</span>
                    <span id="user-stars" class="stat-value">‚≠ê 0</span>
                </div>
                <div class="stat-item center">
                    <span class="stat-label">–ù—É–∂–Ω–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</span>
                    <span id="required-participants" class="stat-value">10</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–£—á–∞—Å—Ç–≤—É–µ—Ç</span>
                    <span id="current-participants" class="stat-value">0</span>
                </div>
            </div>

            <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä -->
            <div class="progress-container">
                <div id="progress-bar" class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                <p id="progress-text" class="progress-text">–û–∂–∏–¥–∞–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤...</p>
            </div>

            <!-- –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–≤–∫–∏ -->
            <div class="bid-container">
                <button id="bid-button" class="bid-button" disabled>
                    <span class="bid-text">–°–¢–ê–í–ö–ê</span>
                    <span id="bid-amount" class="bid-amount">1 ‚≠ê</span>
                </button>
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
            <div class="info-panel">
                <div class="info-row">
                    <span class="info-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</span>
                    <span id="total-users" class="info-value">0</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–ë–∞–Ω–∫ –ª–æ—Ç–µ—Ä–µ–∏:</span>
                    <span id="total-prize" class="info-value">0 ‚≠ê</span>
                </div>
                <div class="info-row">
                    <span class="info-label">–í—ã —É—á–∞—Å—Ç–≤—É–µ—Ç–µ:</span>
                    <span id="user-participation" class="info-value">–ù–µ—Ç</span>
                </div>
            </div>

            <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏ -->
            <div class="winners-section">
                <h3>üèÜ –ù–µ–¥–∞–≤–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª–∏</h3>
                <div id="recent-winners" class="winners-list">
                    <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è -->
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã -->
            <div class="rules-section">
                <h3>üìã –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h3>
                <ul class="rules-list">
                    <li>–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –≤ Telegram Stars</li>
                    <li>–î–æ–∂–¥–∏—Ç–µ—Å—å –Ω–∞–±–æ—Ä–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</li>
                    <li>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —á–µ—Å—Ç–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º</li>
                    <li>–ü–æ–±–µ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç 70% –æ—Ç –±–∞–Ω–∫–∞</li>
                    <li>–ö–∞–∂–¥—ã–π –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –ª–æ—Ç–µ—Ä–µ–µ</li>
                </ul>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –ø–æ–±–µ–¥—ã -->
        <div id="win-screen" class="win-screen hidden">
            <div class="win-content">
                <div class="win-icon">üéâ</div>
                <h2>–ü–û–ó–î–†–ê–í–õ–Ø–ï–ú!</h2>
                <p>–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ –≤ –ª–æ—Ç–µ—Ä–µ–µ!</p>
                <div class="win-prize">
                    <span id="win-amount">0 ‚≠ê</span>
                </div>
                <p>–ü—Ä–∏–∑ —É–∂–µ –∑–∞—á–∏—Å–ª–µ–Ω –Ω–∞ –≤–∞—à —Å—á–µ—Ç!</p>
                <button id="continue-button" class="continue-button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
            </div>
        </div>

        <!-- –≠–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏ -->
        <div id="error-screen" class="error-screen hidden">
            <div class="error-content">
                <div class="error-icon">‚ö†Ô∏è</div>
                <h3>–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞</h3>
                <p id="error-message">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ</p>
                <button id="retry-button" class="retry-button">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
            </div>
        </div>

        <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        <div id="notifications" class="notifications-container">
            <!-- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
        </div>
    </div>

    <!-- JavaScript -->
    <script src="/js/config.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/socket.js"></script>
    <script src="/js/ui.js"></script>
    <script src="/js/app.js"></script>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        if (window.Telegram && window.Telegram.WebApp) {
            const webapp = window.Telegram.WebApp;
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Ç–µ–º—É
            webapp.setBackgroundColor('#1a1a2e');
            webapp.setHeaderColor('#16213e');
            
            // –†–∞—Å—à–∏—Ä—è–µ–º –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            webapp.expand();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—É—é –∫–Ω–æ–ø–∫—É –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
            webapp.MainButton.hide();
            
            console.log('Telegram WebApp initialized');
        }
    </script>
</body>
</html>